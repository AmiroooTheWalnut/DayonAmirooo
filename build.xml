<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<project default="build" name="Create Runnable Jar for Project Dayon! with libraries in same folder">
    <property name="dir.buildfile" value="."/>
    <property name="dir.workspace" value="${dir.buildfile}/.."/>
    <property name="dir.jarfile" value="${dir.buildfile}/build"/>
    <target name="build">
        <jar destfile="${dir.jarfile}/dayon.jar">
            <manifest>
                <attribute name="Implementation-Version" value="1.3 #0"/>
                <attribute name="Main-Class" value=""/>
                <attribute name="Class-Path" value=". annotations-7.0.2.jar jetty-continuation-8.1.21.v20160908.jar jetty-http-8.1.21.v20160908.jar jetty-io-8.1.21.v20160908.jar jetty-server-8.1.21.v20160908.jar jetty-util-8.1.21.v20160908.jar servlet-api-3.0.jar"/>
            </manifest>
            <fileset dir="${dir.buildfile}/bin"/>
        </jar>
        <delete dir="${dir.jarfile}/lib"/>
        <mkdir dir="${dir.jarfile}/lib"/>
        <copy file="${dir.buildfile}/lib/annotations-7.0.2.jar" todir="${dir.jarfile}/lib"/>
        <copy file="${dir.buildfile}/lib/jetty-continuation-8.1.21.v20160908.jar" todir="${dir.jarfile}/lib"/>
        <copy file="${dir.buildfile}/lib/jetty-http-8.1.21.v20160908.jar" todir="${dir.jarfile}/lib"/>
        <copy file="${dir.buildfile}/lib/jetty-io-8.1.21.v20160908.jar" todir="${dir.jarfile}/lib"/>
        <copy file="${dir.buildfile}/lib/jetty-server-8.1.21.v20160908.jar" todir="${dir.jarfile}/lib"/>
        <copy file="${dir.buildfile}/lib/jetty-util-8.1.21.v20160908.jar" todir="${dir.jarfile}/lib"/>
        <copy file="${dir.buildfile}/lib/servlet-api-3.0.jar" todir="${dir.jarfile}/lib"/>
        <copy todir="${dir.jarfile}">
            <fileset dir="${dir.jarfile}/lib"/>
        </copy>
        <delete dir="${dir.jarfile}/lib"/>
    </target>
	<target name="sign">
		<signjar alias="me" storepass="apass" jar="${dir.jarfile}/dayon.jar" tsaurl="http://tsa.starfieldtech.com"/>
	</target>
</project>
